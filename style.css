/* ---------- Base (keeps landing page intact) ---------- */
*, *::before, *::after { box-sizing: border-box; } /* prevents border growth from changing widths */
html, body { width: 100%; }
body { overflow-x: hidden; } /* avoid any accidental horizontal expansion */

/* Keep your existing base .section/.center rules but DO NOT force left align globally.
   If you had `text-align:left` on .section, remove it. We'll scope left-align to create pages below. */


/* ---------- CREATE PAGE: scoped styles so homepage isn't affected ---------- */
body[data-page="create"] .section { text-align: left; }

/* Stepper: lock width and prevent content from forcing expansion */
body[data-page="create"] .stepper {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr)); /* minmax(0,1fr) stops tracks from growing due to content */
  gap: 14px;
  width: 100%;
  max-width: 100%;
  margin-bottom: 24px;
  overflow: hidden; /* visual safety */
}
body[data-page="create"] .stepper > .step-card { min-width: 0; } /* grid item can shrink */
body[data-page="create"] .step-card .step-text { min-width: 0; }
body[data-page="create"] .step-card .step-title,
body[data-page="create"] .step-card .step-desc { overflow-wrap: anywhere; }

/* Keep your existing step-card visuals; if needed, keep the "current" scale without affecting layout */
body[data-page="create"] .step-card.current {
  transform: scale(1.03);
  border-color: var(--plum);
  box-shadow: 0 10px 28px rgba(122,78,171,0.12);
}

/* Force Step 1 look while on the create page (do not influence homepage) */
body[data-page="create"] .stepper.lock-step1 .step-card {
  pointer-events: none;
  transform: scale(0.98) !important;
  border: 2px solid transparent !important;
  box-shadow: var(--shadow) !important;
}
body[data-page="create"] .stepper.lock-step1 .step-card[data-step="1"] {
  transform: scale(1.03) !important;
  border-color: var(--plum) !important;
  box-shadow: 0 10px 28px rgba(122,78,171,0.12) !important;
}

/* Accordions (scoped) */
body[data-page="create"] .accordion { background:#fff; border-radius:16px; box-shadow:var(--shadow); margin-bottom:16px; overflow:hidden; }
body[data-page="create"] .acc-title { margin:0; padding:16px 18px; font-size:20px; color: var(--plum); }
body[data-page="create"] .acc-sub { margin: 8px 18px 0; color: var(--muted); }
body[data-page="create"] .acc-body { padding: 18px; border-top: 1px solid #eee7ff; display:grid; gap:16px; }
body[data-page="create"] .accordion[hidden] { display:none; }
body[data-page="create"] .accordion:not(.open) .acc-body,
body[data-page="create"] .accordion:not(.open) .acc-sub { display:none; }

/* Inputs & chips (scoped) */
body[data-page="create"] input[type="text"] {
  width:100%; border-radius:12px; border:1px solid #e0dcec; padding:12px 14px; font-size:16px;
}
body[data-page="create"] .chip-group { display:flex; flex-wrap:wrap; gap:10px; }
body[data-page="create"] .chip {
  border:1px solid #e0dcec; background:#fff; padding:10px 16px; border-radius:999px; cursor:pointer; font-weight:600;
  transition: background .2s ease, color .2s ease, border .2s ease, transform .1s ease;
}
body[data-page="create"] .chip:hover { transform: translateY(-1px); }
body[data-page="create"] .chip.selected { background: #efe6ff; color: #4b2c86; border-color:#cfb7ff; }

/* Theme cards (scoped) */
body[data-page="create"] .theme-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
body[data-page="create"] .theme-card {
  padding:18px; border-radius:14px; border:2px dashed #e0dcec; background:#fff; font-weight:800; color:#4b2c86; cursor:pointer;
  transition: border .2s ease, transform .1s ease, box-shadow .2s ease; text-align:center;
}
body[data-page="create"] .theme-card:hover { transform: translateY(-1px); }
body[data-page="create"] .theme-card.selected { border-style: solid; border-color: var(--plum); box-shadow: 0 8px 20px rgba(122,78,171,0.12); }

/* Supporting characters (scoped) */
body[data-page="create"] #characters { display:grid; gap:10px; }
body[data-page="create"] .char-row { display:flex; gap:10px; align-items:center; }
body[data-page="create"] .char-row input { flex:1; border-radius:12px; border:1px solid #e0dcec; padding:12px 14px; }
body[data-page="create"] .char-remove {
  border:none; background:#ffe9ec; color:#a33; border-radius:10px; width:38px; height:38px; cursor:pointer; font-size:18px;
}
body[data-page="create"] .char-remove:hover { background:#ffd9de; }

/* Buttons on create page only (won't touch landing page buttons) */
body[data-page="create"] .btn {
  background: var(--plum);
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 700;
  box-shadow: var(--shadow);
  transition: transform .15s ease, background .2s ease, opacity .2s ease;
}
body[data-page="create"] .btn:hover { transform: translateY(-1px); }
body[data-page="create"] .btn:disabled { opacity: .45; cursor: not-allowed; }
body[data-page="create"] .btn-outline {
  background: #fff;
  color: var(--plum);
  border: 2px solid #e0dcec;
}
body[data-page="create"] .btn-primary { background: var(--plum); }

/* Placeholder (Step 2) */
body[data-page="create"] .placeholder { background:#fff; border-radius:16px; box-shadow:var(--shadow); padding:18px; }

/* Mobile */
@media (max-width: 800px) {
  body[data-page="create"] .stepper { grid-template-columns: 1fr; }
  body[data-page="create"] .step-card.current { transform: scale(1.01); }
}
@media (max-width: 560px) {
  body[data-page="create"] .theme-grid { grid-template-columns: 1fr; }
  body[data-page="create"] .actions.stack-mobile { flex-direction: column; }
}
